pipeline {
  agent any

  parameters {
    string(name: 'FROM_DATE', defaultValue: '2023-03-01', description: 'From date in YYYY-MM-DD format')
    string(name: 'TO_DATE', defaultValue: '2023-04-01', description: 'To date in YYYY-MM-DD format')
  }

  stages {
    stage('Find files') {
      steps {
        sh '''
          find . -type f -newermt "${FROM_DATE}" ! -newermt "${TO_DATE}" -print0 |
          du -h --files0-from=- > cat file_sizes.txt
        '''
      }
    }
  }
}
